
project openbus/assistant/demos ;

path-constant here : . ;

obj independent_clock-stub
  : $(here)/idl/independent_clock.idl
  ;
explicit independent_clock-stub ;

obj independent_clock-skeleton
  : $(here)/idl/independent_clock.idl
  : <generate>skeleton
  ;
explicit independent_clock-skeleton ;

exe independent_clock_client
 : src/client.cpp
   /openbus//openbus
   /openbus/assistant//assistant
   /boost//program_options
   /scs//scs
   /boost//headers
   /logger//logger
   /openssl//openssl
   independent_clock-stub
 : <threading>multi:<source>/boost//thread
   <dependency>independent_clock-stub
   <implicit-dependency>independent_clock-stub
   <link>static,<target-os>linux:<source>/dl//dl
   
 ;
explicit independent_clock_client ;

exe independent_clock_server
 : src/server.cpp
   /openbus//openbus
   /openbus/assistant//assistant
   /boost//program_options
   /scs//scs
   /boost//headers
   /logger//logger
   /openssl//openssl
   independent_clock-stub
   independent_clock-skeleton
 : <threading>multi:<source>/boost//thread
   <dependency>independent_clock-stub
   <implicit-dependency>independent_clock-stub
   <dependency>independent_clock-skeleton
   <implicit-dependency>independent_clock-skeleton
   <link>static,<target-os>linux:<source>/dl//dl   
 ;
explicit independent_clock_server ;

alias independent_clock
  : independent_clock_client
    independent_clock_server
  ;
