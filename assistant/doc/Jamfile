
import testing ;
import path ;

project openbus/assistant/doc ;

path-constant doc-images : images ;

xml assistant : assistant.qbk ;

boostbook standalone
 : assistant
 ;

local dependencies =
 /openbus/assistant//assistant
 /openbus//openbus /mico//mico /scs//scs /boost//headers
 /logger//logger /openbus//core-idls /openssl//openssl ;
local requirements =
 <implicit-dependency>/openbus//core-idls
 <implicit-dependency>/scs//scs-idl
 ;

local rule compile-rule ( name idl ? )
{
  compile $(name).cpp $(dependencies) $(idl) : $(requirements) <implicit-dependency>$(idl) : $(name) ;
  explicit $(name).cpp ;
  return $(l) ;
}

compile-rule namedparameters ;
compile-rule namedparameters_host_port ;
compile-rule auth_user ;
compile-rule auth_private_key ;
compile-rule auth_private_key_file ;
compile-rule offers hello.idl ;
compile-rule offers_chain hello.idl ;
compile-rule searching_offers hello.idl ;
compile-rule searching_offers_errors hello.idl ;
compile-rule searching_offers_errors_retry hello.idl ;

install documentation-html : standalone namedparameters
 namedparameters_host_port auth_user auth_private_key
 auth_private_key_file offers offers_chain searching_offers
 searching_offers_errors searching_offers_errors_retry
 ;

install documentation-images : [ glob images/*.png ] : <install-source-root>.
 ;

