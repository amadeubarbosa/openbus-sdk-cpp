project openbus/interop/chain_validation ;

path-constant here : . ;

obj chain_validation-stub
  : $(here)/idl/chain_validation.idl
  ;
explicit chain_validation-stub ;

obj chain_validation-skeleton
  : $(here)/idl/chain_validation.idl
  : <generate>skeleton
  ;
explicit chain_validation-skeleton ;


exe chain_validation_client
 : src/client.cpp
   /openbus//openbus
   /boost//program_options
   /scs//scs
   /boost//headers
   /logger//logger
   /openssl//openssl
   chain_validation-stub
 : <threading>multi:<source>/boost//thread
   <dependency>chain_validation-stub
   <implicit-dependency>chain_validation-stub
   <link>static,<target-os>linux:<source>/dl//dl
   
 ;
explicit chain_validation_client ;

exe chain_validation_executive
 : src/executive.cpp
   /openbus//openbus
   /boost//program_options
   /scs//scs
   /boost//headers
   /logger//logger
   /openssl//openssl
   chain_validation-stub
   chain_validation-skeleton
 : <threading>multi:<source>/boost//thread
   <dependency>chain_validation-stub
   <implicit-dependency>chain_validation-stub
   <dependency>chain_validation-skeleton
   <implicit-dependency>chain_validation-skeleton
   <link>static,<target-os>linux:<source>/dl//dl   
 ;
explicit chain_validation_executive ;

exe chain_validation_secretary
 : src/secretary.cpp
   /openbus//openbus
   /boost//program_options
   /scs//scs
   /boost//headers
   /logger//logger
   /openssl//openssl
   chain_validation-stub
   chain_validation-skeleton
 : <threading>multi:<source>/boost//thread
   <dependency>chain_validation-stub
   <implicit-dependency>chain_validation-stub
   <dependency>chain_validation-skeleton
   <implicit-dependency>chain_validation-skeleton
   <link>static,<target-os>linux:<source>/dl//dl   
 ;
explicit chain_validation_secretary ;

alias chain_validation
  : chain_validation_client
    chain_validation_executive
    chain_validation_secretary
  ;
