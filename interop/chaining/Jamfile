project openbus/interop ;

path-constant here : . ;

obj hello-idl : $(here)/idl/hello/hello.idl /mico//mico ;
obj proxy-idl : $(here)/idl/proxy/proxy.idl /mico//mico ;

exe chaining_client
 : proxy-idl
   src/client.cpp
   /boost//headers
   /boost//program_options
   /openssl//openssl
   /mico//mico
   /scs//scs
   /openbus//openbus
   /logger//logger
 : <implicit-dependency>/openbus//core-idls
   <threading>multi:<source>/boost//thread
   <implicit-dependency>proxy-idl
   <link>static:<source>/dl//dl
  ;

exe chaining_proxy
 : hello-idl
   proxy-idl
   src/proxy.cpp
   /boost//headers
   /boost//program_options
   /openssl//openssl
   /mico//mico
   /scs//scs
   /openbus//openbus
   /logger//logger
 : <implicit-dependency>/openbus//core-idls
   <threading>multi:<source>/boost//thread
   <implicit-dependency>hello-idl
   <implicit-dependency>proxy-idl
   <link>static:<source>/dl//dl
  ;

exe chaining_server
 : hello-idl
   src/server.cpp
   /boost//headers
   /boost//program_options
   /openssl//openssl
   /mico//mico
   /scs//scs
   /openbus//openbus
   /logger//logger
 : <implicit-dependency>/openbus//core-idls
   <threading>multi:<source>/boost//thread
   <implicit-dependency>hello-idl
   <link>static:<source>/dl//dl
  ;

alias chaining :
  chaining_client 
  chaining_proxy
  chaining_server
;
