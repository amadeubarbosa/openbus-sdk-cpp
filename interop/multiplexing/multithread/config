DEFINES=OPENBUS_SDK_MULTITHREAD
DEFINES+=SCS_THREADING_ENABLED

# Descomente a linha abaixo para o uso em Valgrind.
# p.s.: O modo debug(DBG) deve estar ativado.
#CPPFLAGS= -fno-inline

ifeq "$(TEC_UNAME)" "SunOS510_64"
  USE_CC=Yes
  AR= CC
  
  ifeq "$(DBG)" "YES"
    CPPFLAGS= -g
    STDLFLAGS= -g
    LFLAGS= -g
  endif

  CPPFLAGS+= -erroff=badargtype2w -m64 -KPIC -library=stlport4
  STDLFLAGS+= -m64 -xar -o  
  LFLAGS+= -m64 -instances=extern -library=stlport4 
  LIBS= nsl socket
  NO_LOCAL_LD=Yes
endif

ifeq "$(DBG)" "Yes"
  MICO_DEBUG=-debug
endif

ifeq "$(OPENBUS_SDK_MULTITHREAD)" "Yes"
  MICO_BIN=${MICODIR}/bin/mico-${MICOVERSION}-multithread${MICO_DEBUG}
  MICO_INC=${OPENBUS_HOME}/include/mico-${MICOVERSION}-multithread${MICO_DEBUG}
  MICO_LDIR=${OPENBUS_HOME}/lib/mico-${MICOVERSION}-multithread${MICO_DEBUG}
  OPENBUS_LIB=libopenbus-micomultithread${MICO_DEBUG}.a
  SCS_LIB=libscs-micomultithread${MICO_DEBUG}.a
  DEFINES+=OPENBUS_SDK_MULTITHREAD
  DEFINES+=SCS_THREADING_ENABLED
else
  MICO_BIN=${MICODIR}/bin/mico-${MICOVERSION}-singlethread${MICO_DEBUG}
  MICO_INC=${OPENBUS_HOME}/include/mico-${MICOVERSION}-singlethread${MICO_DEBUG}
  MICO_LDIR=${OPENBUS_HOME}/lib/mico-${MICOVERSION}-singlethread${MICO_DEBUG}
  OPENBUS_LIB=libopenbus-micosinglethread${MICO_DEBUG}.a
  SCS_LIB=libscs-micosinglethread${MICO_DEBUG}.a
endif
