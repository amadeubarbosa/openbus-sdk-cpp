project openbus/interop/simple ;

path-constant here : . ;

obj hello-idl
  : $(here)/idl/hello.idl
    /mico//mico
  ;

exe simple_client
  : src/client.cpp
    hello-idl
    /openbus//openbus
    /scs//scs
    /logger//logger
    /mico//mico
    /boost//headers
    /boost//program_options
    /openssl//openssl
  : <threading>multi:<source>/boost//thread
    <implicit-dependency>/openbus//core-idls
    <implicit-dependency>hello-idl
    <target-os>linux,<link>static:<source>/dl//dl
  ;

exe simple_server
  : src/server.cpp
    hello-idl
    /openbus//openbus
    /scs//scs
    /logger//logger
    /mico//mico
    /boost//headers
    /boost//program_options
    /openssl//openssl
  : <threading>multi:<source>/boost//thread
    <implicit-dependency>/openbus//core-idls
    <implicit-dependency>hello-idl
    <target-os>linux,<link>static:<source>/dl//dl
  ;

alias simple
  : simple_client
    simple_server
    admin/interop_simple_cpp_server.key
  ;
